(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"name":"meido-orders","version":"1.0.18","private":true,"engines":{"node":"8.9.4"},"scripts":{"start":"node server","dev":"webpack --watch","server":"node server","devserver":"webpack-dev-server --mode development --open","build":"webpack --mode production","release":"npm version patch -f && npm run build && git add -A dist && git commit --amend --no-edit"},"repository":{"type":"git","url":"git+https://github.com/bobanko/wix-meido-order-list.git"},"devDependencies":{"awesome-typescript-loader":"^5.2.1","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^4.5.2","css-loader":"^1.0.0","extract-text-webpack-plugin":"^4.0.0-beta.0","file-loader":"^2.0.0","html-webpack-plugin":"^3.2.0","node-sass":"^4.9.3","path":"^0.12.7","redux-devtools":"^3.4.1","sass-loader":"^7.1.0","source-map-loader":"^0.2.4","ts-loader":"^5.0.0","typescript":"^3.0.3","webpack":"^4.19.1","webpack-cli":"^3.1.1","webpack-dev-server":"^3.1.7"},"dependencies":{"@types/lodash":"^4.14.110","@types/react":"^16.4.13","@types/react-dom":"^16.0.7","classnames":"^2.2.6","express":"^4.17.1","lodash":"^4.17.11","moment":"^2.22.2","npm":"^6.4.1","react":"^16.5.0","react-dom":"^16.5.0","react-redux":"^5.0.7","redux":"^4.0.0","redux-logger":"^3.0.6","redux-thunk":"^2.3.0","request":"^2.88.0"}}')},153:function(e,s,t){var r={"./af":13,"./af.js":13,"./ar":14,"./ar-dz":15,"./ar-dz.js":15,"./ar-kw":16,"./ar-kw.js":16,"./ar-ly":17,"./ar-ly.js":17,"./ar-ma":18,"./ar-ma.js":18,"./ar-sa":19,"./ar-sa.js":19,"./ar-tn":20,"./ar-tn.js":20,"./ar.js":14,"./az":21,"./az.js":21,"./be":22,"./be.js":22,"./bg":23,"./bg.js":23,"./bm":24,"./bm.js":24,"./bn":25,"./bn.js":25,"./bo":26,"./bo.js":26,"./br":27,"./br.js":27,"./bs":28,"./bs.js":28,"./ca":29,"./ca.js":29,"./cs":30,"./cs.js":30,"./cv":31,"./cv.js":31,"./cy":32,"./cy.js":32,"./da":33,"./da.js":33,"./de":34,"./de-at":35,"./de-at.js":35,"./de-ch":36,"./de-ch.js":36,"./de.js":34,"./dv":37,"./dv.js":37,"./el":38,"./el.js":38,"./en-SG":39,"./en-SG.js":39,"./en-au":40,"./en-au.js":40,"./en-ca":41,"./en-ca.js":41,"./en-gb":42,"./en-gb.js":42,"./en-ie":43,"./en-ie.js":43,"./en-il":44,"./en-il.js":44,"./en-nz":45,"./en-nz.js":45,"./eo":46,"./eo.js":46,"./es":47,"./es-do":48,"./es-do.js":48,"./es-us":49,"./es-us.js":49,"./es.js":47,"./et":50,"./et.js":50,"./eu":51,"./eu.js":51,"./fa":52,"./fa.js":52,"./fi":53,"./fi.js":53,"./fo":54,"./fo.js":54,"./fr":55,"./fr-ca":56,"./fr-ca.js":56,"./fr-ch":57,"./fr-ch.js":57,"./fr.js":55,"./fy":58,"./fy.js":58,"./ga":59,"./ga.js":59,"./gd":60,"./gd.js":60,"./gl":61,"./gl.js":61,"./gom-latn":62,"./gom-latn.js":62,"./gu":63,"./gu.js":63,"./he":64,"./he.js":64,"./hi":65,"./hi.js":65,"./hr":66,"./hr.js":66,"./hu":67,"./hu.js":67,"./hy-am":68,"./hy-am.js":68,"./id":69,"./id.js":69,"./is":70,"./is.js":70,"./it":71,"./it-ch":72,"./it-ch.js":72,"./it.js":71,"./ja":73,"./ja.js":73,"./jv":74,"./jv.js":74,"./ka":75,"./ka.js":75,"./kk":76,"./kk.js":76,"./km":77,"./km.js":77,"./kn":78,"./kn.js":78,"./ko":79,"./ko.js":79,"./ku":80,"./ku.js":80,"./ky":81,"./ky.js":81,"./lb":82,"./lb.js":82,"./lo":83,"./lo.js":83,"./lt":84,"./lt.js":84,"./lv":85,"./lv.js":85,"./me":86,"./me.js":86,"./mi":87,"./mi.js":87,"./mk":88,"./mk.js":88,"./ml":89,"./ml.js":89,"./mn":90,"./mn.js":90,"./mr":91,"./mr.js":91,"./ms":92,"./ms-my":93,"./ms-my.js":93,"./ms.js":92,"./mt":94,"./mt.js":94,"./my":95,"./my.js":95,"./nb":96,"./nb.js":96,"./ne":97,"./ne.js":97,"./nl":98,"./nl-be":99,"./nl-be.js":99,"./nl.js":98,"./nn":100,"./nn.js":100,"./pa-in":101,"./pa-in.js":101,"./pl":102,"./pl.js":102,"./pt":103,"./pt-br":104,"./pt-br.js":104,"./pt.js":103,"./ro":105,"./ro.js":105,"./ru":106,"./ru.js":106,"./sd":107,"./sd.js":107,"./se":108,"./se.js":108,"./si":109,"./si.js":109,"./sk":110,"./sk.js":110,"./sl":111,"./sl.js":111,"./sq":112,"./sq.js":112,"./sr":113,"./sr-cyrl":114,"./sr-cyrl.js":114,"./sr.js":113,"./ss":115,"./ss.js":115,"./sv":116,"./sv.js":116,"./sw":117,"./sw.js":117,"./ta":118,"./ta.js":118,"./te":119,"./te.js":119,"./tet":120,"./tet.js":120,"./tg":121,"./tg.js":121,"./th":122,"./th.js":122,"./tl-ph":123,"./tl-ph.js":123,"./tlh":124,"./tlh.js":124,"./tr":125,"./tr.js":125,"./tzl":126,"./tzl.js":126,"./tzm":127,"./tzm-latn":128,"./tzm-latn.js":128,"./tzm.js":127,"./ug-cn":129,"./ug-cn.js":129,"./uk":130,"./uk.js":130,"./ur":131,"./ur.js":131,"./uz":132,"./uz-latn":133,"./uz-latn.js":133,"./uz.js":132,"./vi":134,"./vi.js":134,"./x-pseudo":135,"./x-pseudo.js":135,"./yo":136,"./yo.js":136,"./zh-cn":137,"./zh-cn.js":137,"./zh-hk":138,"./zh-hk.js":138,"./zh-tw":139,"./zh-tw.js":139};function a(e){var s=n(e);return t(s)}function n(e){if(!t.o(r,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=153},154:function(e,s){e.exports={users:[["Andrey Listochkin","🧔🏼"],["Dmytro Naumenko","🦄"],["Yurii But","🦐"],["Nadiia Davydiuk","🌸"],["Kostiantyn Ovsepian","🤓"],["[meido] server error","💩"]]}},155:function(e,s,t){"use strict";t.r(s);var r=t(1),a=t(140),n=t(4),o=t(3),c=t(143);const{version:i}=t(11),l=e=>s=>(s((e=>({type:"REQUEST_ORDERS",params:e}))(e)),fetch(`api/orders/${e}`).then(e=>{return e.headers.get("version")!==i&&setTimeout(()=>window.location.reload(),6e4),e}).then(e=>e.json()).then(e=>s((e=>({type:"RECEIVE_ORDERS",workers:e,receivedAt:Date.now()}))(e)),e=>s((e=>({type:"RECEIVE_ERROR",error:e,receivedAt:Date.now()}))(e))));var d=(e={isLoading:!1,workers:[]},s)=>{switch(s.type){case"REQUEST_ORDERS":return Object.assign({},e,{isLoading:!0});case"RECEIVE_ORDERS":return Object.assign({},e,{isLoading:!1,workers:s.workers,error:null,lastUpdated:s.receivedAt});case"RECEIVE_ERROR":return Object.assign({},e,{isLoading:!1,error:s.error,lastUpdated:s.receivedAt});default:return e}},j=t(0),m=t(5),u=t.n(m);t(156);const{users:p}=t(154),h=new Map(p);class v extends r.Component{constructor(e){super(e)}getAbbr(e){const s=/(\w)\w*[\W]+(\w)\w*/;try{const[,t,r]=e.match(s);return`${t}${r}`.toLowerCase()}catch(s){return console.warn("wrong string format",e),"--"}}getAvatarColor(e){const s=e.charCodeAt(0);e.charCodeAt(1);return`hsl(${(s-97)/25*360},100%,40%)`}render(){const{worker:e}=this.props,s=(t=e.name,h.get(t));var t;const a=this.getAbbr(e.name),n=e=>{e&&e.style.setProperty("--color",this.getAvatarColor(a))};return r.createElement("div",{className:"worker fl-row"},r.createElement("div",{className:u()("avatar",{emoji:!!s,abbr:!s}),ref:e=>n(e)},s||a),r.createElement("div",{className:"fl-col"},r.createElement("div",{className:"worker__title"},r.createElement("div",{className:"worker__name"},e.name)),r.createElement("div",{className:"order"},r.createElement("div",{className:"order__name"},e.order.title))))}}const{version:k}=t(11),b=600,g=1e3*b;var w=Object(o.b)(e=>{const{workers:s,isLoading:t,lastUpdated:r,error:a}=e;return{workers:s,lastUpdated:r,isLoading:t,error:a}},e=>({fetchWorkers:s=>e(l(s))}))(class extends r.Component{constructor(){super(...arguments),this.state={timeLeft:b},this.update=()=>{this.setState(()=>({timeLeft:b})),this.props.fetchWorkers(location.search)}}componentDidMount(){this.update(),setInterval(()=>{this.setState(e=>({timeLeft:e.timeLeft-1}))},1e3),setInterval(this.update,g)}render(){const{error:e,lastUpdated:s}=this.props,t=j(s).format("ddd, MMM-D'YY HH:mm:ss");return r.createElement("div",{className:"app-info"},r.createElement("div",{className:"banner"},"Issues? ",r.createElement("a",{href:"http://t.me/bobanko"},"http://t.me/bobanko")),r.createElement("div",null,"last update: ",t," "),r.createElement("div",null,"status:",e?r.createElement("span",{style:{color:"red"}},e.message,"💔"):r.createElement("span",{style:{color:"limegreen"}},"online💚")),r.createElement("div",null,"ver. ",k))}});t(158);class E extends r.Component{render(){return r.createElement("div",{className:u()("loader-linear",{"is-loading":this.props.isLoading})},r.createElement("div",{className:"loader-linear__track"}),r.createElement("div",{className:"loader-linear__indicator"}))}}var f=t(144);const y=["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍈","🍒","🍑","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥒","🌶️","🌽","🥕","🥔","🥐","🍞","🥖","🥨","🧀","🥚","🍳","🥞","🥓","🥩","🍗","🍖","🌭","🍔","🍟","🍕","🥪","🥙","🌮","🌯","🥗","🥘","🥫","🍝","🍜","🍲","🍛","🍣","🥟","🍤","🍚","🍦","🥧","🍰","🎂","🍮","🍭","🍫","🍿","🍩","🍪","🌰","🥜","🍯","☕️","🍵","🍺","🥣","🥡"],z=()=>Object(f.sample)(y);t(159);var O=Object(o.b)(e=>{const{workers:s,isLoading:t,error:r}=e;return{workers:s,isLoading:t,error:r}})(class extends r.Component{constructor(e){super(e)}render(){const{workers:e,isLoading:s,error:t}=this.props,a=j().format("dddd, MMMM Do, YYYY");return r.createElement("div",null,r.createElement(E,{isLoading:s}),r.createElement(w,null),r.createElement("h1",null,z(),"Orders for ",a),r.createElement("div",{className:"workers"},e.map((e,s)=>r.createElement(v,{key:s,worker:e})),!s&&0===e.length&&r.createElement("h2",null,"No orders")))}});const R=Object(n.c)(d,Object(n.a)(c.a));a.render(r.createElement(o.a,{store:R},r.createElement(O,null)),document.getElementById("root"))},156:function(e,s){},158:function(e,s){},159:function(e,s){}},[[155,1,2]]]);
//# sourceMappingURL=main.06c7077a46a8af424ed3.js.map
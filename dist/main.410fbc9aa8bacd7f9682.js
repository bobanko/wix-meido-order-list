(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e){e.exports={name:"meido-orders",version:"1.0.15",private:!0,engines:{node:"8.9.4"},scripts:{start:"node server",dev:"webpack --watch",server:"node server",devserver:"webpack-dev-server --mode development --open",build:"webpack --mode production",release:"npm version patch -f && npm run build && git add -A dist && git commit --amend --no-edit"},repository:{type:"git",url:"git+https://github.com/bobanko/wix-meido-order-list.git"},devDependencies:{"awesome-typescript-loader":"^5.2.1","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^4.5.2","css-loader":"^1.0.0","extract-text-webpack-plugin":"^4.0.0-beta.0","file-loader":"^2.0.0","html-webpack-plugin":"^3.2.0","node-sass":"^4.9.3",path:"^0.12.7","redux-devtools":"^3.4.1","sass-loader":"^7.1.0","source-map-loader":"^0.2.4","ts-loader":"^5.0.0",typescript:"^3.0.3",webpack:"^4.19.1","webpack-cli":"^3.1.1","webpack-dev-server":"^3.1.7"},dependencies:{"@types/lodash":"^4.14.110","@types/react":"^16.4.13","@types/react-dom":"^16.0.7",classnames:"^2.2.6",express:"^3.1.2",lodash:"^4.17.11",moment:"^2.22.2",npm:"^6.4.1",react:"^16.5.0","react-dom":"^16.5.0","react-redux":"^5.0.7",redux:"^4.0.0","redux-logger":"^3.0.6","redux-thunk":"^2.3.0",request:"^2.88.0"}}},149:function(e,s,t){var r={"./af":12,"./af.js":12,"./ar":13,"./ar-dz":14,"./ar-dz.js":14,"./ar-kw":15,"./ar-kw.js":15,"./ar-ly":16,"./ar-ly.js":16,"./ar-ma":17,"./ar-ma.js":17,"./ar-sa":18,"./ar-sa.js":18,"./ar-tn":19,"./ar-tn.js":19,"./ar.js":13,"./az":20,"./az.js":20,"./be":21,"./be.js":21,"./bg":22,"./bg.js":22,"./bm":23,"./bm.js":23,"./bn":24,"./bn.js":24,"./bo":25,"./bo.js":25,"./br":26,"./br.js":26,"./bs":27,"./bs.js":27,"./ca":28,"./ca.js":28,"./cs":29,"./cs.js":29,"./cv":30,"./cv.js":30,"./cy":31,"./cy.js":31,"./da":32,"./da.js":32,"./de":33,"./de-at":34,"./de-at.js":34,"./de-ch":35,"./de-ch.js":35,"./de.js":33,"./dv":36,"./dv.js":36,"./el":37,"./el.js":37,"./en-au":38,"./en-au.js":38,"./en-ca":39,"./en-ca.js":39,"./en-gb":40,"./en-gb.js":40,"./en-ie":41,"./en-ie.js":41,"./en-il":42,"./en-il.js":42,"./en-nz":43,"./en-nz.js":43,"./eo":44,"./eo.js":44,"./es":45,"./es-do":46,"./es-do.js":46,"./es-us":47,"./es-us.js":47,"./es.js":45,"./et":48,"./et.js":48,"./eu":49,"./eu.js":49,"./fa":50,"./fa.js":50,"./fi":51,"./fi.js":51,"./fo":52,"./fo.js":52,"./fr":53,"./fr-ca":54,"./fr-ca.js":54,"./fr-ch":55,"./fr-ch.js":55,"./fr.js":53,"./fy":56,"./fy.js":56,"./gd":57,"./gd.js":57,"./gl":58,"./gl.js":58,"./gom-latn":59,"./gom-latn.js":59,"./gu":60,"./gu.js":60,"./he":61,"./he.js":61,"./hi":62,"./hi.js":62,"./hr":63,"./hr.js":63,"./hu":64,"./hu.js":64,"./hy-am":65,"./hy-am.js":65,"./id":66,"./id.js":66,"./is":67,"./is.js":67,"./it":68,"./it.js":68,"./ja":69,"./ja.js":69,"./jv":70,"./jv.js":70,"./ka":71,"./ka.js":71,"./kk":72,"./kk.js":72,"./km":73,"./km.js":73,"./kn":74,"./kn.js":74,"./ko":75,"./ko.js":75,"./ky":76,"./ky.js":76,"./lb":77,"./lb.js":77,"./lo":78,"./lo.js":78,"./lt":79,"./lt.js":79,"./lv":80,"./lv.js":80,"./me":81,"./me.js":81,"./mi":82,"./mi.js":82,"./mk":83,"./mk.js":83,"./ml":84,"./ml.js":84,"./mn":85,"./mn.js":85,"./mr":86,"./mr.js":86,"./ms":87,"./ms-my":88,"./ms-my.js":88,"./ms.js":87,"./mt":89,"./mt.js":89,"./my":90,"./my.js":90,"./nb":91,"./nb.js":91,"./ne":92,"./ne.js":92,"./nl":93,"./nl-be":94,"./nl-be.js":94,"./nl.js":93,"./nn":95,"./nn.js":95,"./pa-in":96,"./pa-in.js":96,"./pl":97,"./pl.js":97,"./pt":98,"./pt-br":99,"./pt-br.js":99,"./pt.js":98,"./ro":100,"./ro.js":100,"./ru":101,"./ru.js":101,"./sd":102,"./sd.js":102,"./se":103,"./se.js":103,"./si":104,"./si.js":104,"./sk":105,"./sk.js":105,"./sl":106,"./sl.js":106,"./sq":107,"./sq.js":107,"./sr":108,"./sr-cyrl":109,"./sr-cyrl.js":109,"./sr.js":108,"./ss":110,"./ss.js":110,"./sv":111,"./sv.js":111,"./sw":112,"./sw.js":112,"./ta":113,"./ta.js":113,"./te":114,"./te.js":114,"./tet":115,"./tet.js":115,"./tg":116,"./tg.js":116,"./th":117,"./th.js":117,"./tl-ph":118,"./tl-ph.js":118,"./tlh":119,"./tlh.js":119,"./tr":120,"./tr.js":120,"./tzl":121,"./tzl.js":121,"./tzm":122,"./tzm-latn":123,"./tzm-latn.js":123,"./tzm.js":122,"./ug-cn":124,"./ug-cn.js":124,"./uk":125,"./uk.js":125,"./ur":126,"./ur.js":126,"./uz":127,"./uz-latn":128,"./uz-latn.js":128,"./uz.js":127,"./vi":129,"./vi.js":129,"./x-pseudo":130,"./x-pseudo.js":130,"./yo":131,"./yo.js":131,"./zh-cn":132,"./zh-cn.js":132,"./zh-hk":133,"./zh-hk.js":133,"./zh-tw":134,"./zh-tw.js":134};function a(e){var s=n(e);return t(s)}function n(e){var s=r[e];if(!(s+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=149},150:function(e,s,t){"use strict";t.r(s);var r=t(1),a=t(135),n=t(4),o=t(3),l=t(138);const{version:c}=t(10),i=e=>s=>(s((e=>({type:"REQUEST_ORDERS",params:e}))(e)),fetch(`api/orders/${e}`).then(e=>{return e.headers.get("version")!==c&&setTimeout(()=>window.location.reload(),6e4),e}).then(e=>e.json()).then(e=>s((e=>({type:"RECEIVE_ORDERS",workers:e,receivedAt:Date.now()}))(e)),e=>s((e=>({type:"RECEIVE_ERROR",error:e,receivedAt:Date.now()}))(e))));var d=(e={isLoading:!1,workers:[]},s)=>{switch(s.type){case"REQUEST_ORDERS":return Object.assign({},e,{isLoading:!0});case"RECEIVE_ORDERS":return Object.assign({},e,{isLoading:!1,workers:s.workers,error:null,lastUpdated:s.receivedAt});case"RECEIVE_ERROR":return Object.assign({},e,{isLoading:!1,error:s.error,lastUpdated:s.receivedAt});default:return e}},j=t(0);t(151);class m extends r.Component{constructor(e){super(e)}getAbbr(e){const s=/(\w)\w*[\W](\w)\w*/;try{const[,t,r]=e.match(s);return`${t}${r}`.toLowerCase()}catch(s){return console.warn("wrong string format",e),"ðŸ¦„"}}getAvatarColor(e){const s=e.charCodeAt(0);e.charCodeAt(1);return`hsl(${(s-97)/25*360},100%,40%)`}render(){const{worker:e}=this.props,s=this.getAbbr(e.name),t=e=>{e&&e.style.setProperty("--color",this.getAvatarColor(s))};return r.createElement("div",{className:"worker fl-row"},r.createElement("div",{className:"av",ref:e=>t(e)},s),r.createElement("div",{className:"fl-col"},r.createElement("div",{className:"worker__title"},r.createElement("div",{className:"worker__name"},e.name)),r.createElement("div",{className:"order"},r.createElement("div",{className:"order__name"},e.order.title))))}}const{version:p}=t(10),u=600,h=1e3*u;var v=Object(o.b)(e=>{const{workers:s,isLoading:t,lastUpdated:r,error:a}=e;return{workers:s,lastUpdated:r,isLoading:t,error:a}},e=>({fetchWorkers:s=>e(i(s))}))(class extends r.Component{constructor(){super(...arguments),this.state={timeLeft:u},this.update=(()=>{this.setState(()=>({timeLeft:u})),this.props.fetchWorkers(location.search)})}componentDidMount(){this.update(),setInterval(()=>{this.setState(e=>({timeLeft:e.timeLeft-1}))},1e3),setInterval(this.update,h)}render(){const{error:e,lastUpdated:s}=this.props,t=j(s).format("ddd, MMM-D'YY HH:mm:ss");return r.createElement("div",{className:"app-info"},r.createElement("div",{className:"banner"},"Issues? ",r.createElement("a",{href:"http://t.me/bobanko"},"http://t.me/bobanko")),r.createElement("div",null,"last update: ",t," "),r.createElement("div",null,"status:",e?r.createElement("span",{style:{color:"red"}},e.message,"ðŸ’”"):r.createElement("span",{style:{color:"limegreen"}},"onlineðŸ’š")),r.createElement("div",null,"ver. ",p))}}),b=t(139),k=t.n(b);t(153);class g extends r.Component{render(){return r.createElement("div",{className:k()("loader-linear",{"is-loading":this.props.isLoading})},r.createElement("div",{className:"loader-linear__track"}),r.createElement("div",{className:"loader-linear__indicator"}))}}var w=t(140);const E=["ðŸ","ðŸŽ","ðŸ","ðŸŠ","ðŸ‹","ðŸŒ","ðŸ‰","ðŸ‡","ðŸ“","ðŸˆ","ðŸ’","ðŸ‘","ðŸ","ðŸ¥¥","ðŸ¥","ðŸ…","ðŸ†","ðŸ¥‘","ðŸ¥¦","ðŸ¥’","ðŸŒ¶ï¸","ðŸŒ½","ðŸ¥•","ðŸ¥”","ðŸ¥","ðŸž","ðŸ¥–","ðŸ¥¨","ðŸ§€","ðŸ¥š","ðŸ³","ðŸ¥ž","ðŸ¥“","ðŸ¥©","ðŸ—","ðŸ–","ðŸŒ­","ðŸ”","ðŸŸ","ðŸ•","ðŸ¥ª","ðŸ¥™","ðŸŒ®","ðŸŒ¯","ðŸ¥—","ðŸ¥˜","ðŸ¥«","ðŸ","ðŸœ","ðŸ²","ðŸ›","ðŸ£","ðŸ¥Ÿ","ðŸ¤","ðŸš","ðŸ¦","ðŸ¥§","ðŸ°","ðŸŽ‚","ðŸ®","ðŸ­","ðŸ«","ðŸ¿","ðŸ©","ðŸª","ðŸŒ°","ðŸ¥œ","ðŸ¯","â˜•ï¸","ðŸµ","ðŸº","ðŸ¥£","ðŸ¥¡"],f=()=>Object(w.sample)(E);t(154);var y=Object(o.b)(e=>{const{workers:s,isLoading:t,error:r}=e;return{workers:s,isLoading:t,error:r}})(class extends r.Component{constructor(e){super(e)}render(){const{workers:e,isLoading:s,error:t}=this.props,a=j().format("dddd, MMMM Do, YYYY");return r.createElement("div",null,r.createElement(g,{isLoading:s}),r.createElement(v,null),r.createElement("h1",null,f(),"Orders for ",a),r.createElement("div",{className:"workers"},e.map((e,s)=>r.createElement(m,{key:s,worker:e})),!s&&0===e.length&&r.createElement("h2",null,"No orders")))}});const z=Object(n.c)(d,Object(n.a)(l.a));a.render(r.createElement(o.a,{store:z},r.createElement(y,null)),document.getElementById("root"))},151:function(e,s){},153:function(e,s){},154:function(e,s){}},[[150,1,2]]]);
//# sourceMappingURL=main.410fbc9aa8bacd7f9682.js.map
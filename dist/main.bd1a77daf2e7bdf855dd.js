(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t){},7:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r(2);r(8);class n extends s.Component{constructor(e){super(e);const{worker:t}=this.props;this.nameAbbr=this.getAbbr(t.name)}componentDidMount(){this.avatarEl.style.setProperty("--color",this.getAvatarColor(this.nameAbbr))}getAbbr(e){const[,t,r]=e.match(/(\w)\w+[\W](\w)\w+/);return`${t}${r}`.toLowerCase()}getAvatarColor(e){const t=e.charCodeAt(0);e.charCodeAt(1);return`hsl(${(t-97)/25*360},100%,40%)`}render(){const{worker:e}=this.props;return s.createElement("div",{className:"worker fl-row"},s.createElement("div",{className:"av",ref:e=>this.avatarEl=e},this.nameAbbr),s.createElement("div",{className:"fl-col"},s.createElement("div",{className:"worker__title"},s.createElement("div",{className:"worker__name"},e.name)),s.createElement("div",{className:"order"},s.createElement("div",{className:"order__name"},e.order.title))))}}r(10);a.render(s.createElement(class extends s.Component{constructor(e){super(e),this.state={isLoading:!1,workers:[],error:null},this.getOrders=(e=>{this.setState({isLoading:!0}),fetch(`/orders/${e}`).then(e=>e.json()).then(e=>this.setState({workers:e})).catch(e=>this.setState({error:e})).then(()=>this.setState({isLoading:!1}))})}componentDidMount(){this.getOrders(location.search)}render(){const{workers:e,isLoading:t,error:r}=this.state,a=(new Date).toLocaleDateString();return s.createElement("div",null,s.createElement("h1",null,`Orders for ${a}`),s.createElement("div",{className:"workers"},r&&s.createElement("div",null,r.message),t&&s.createElement("div",{className:"loader"},"Loading..."),e.map((e,t)=>s.createElement(n,{key:t,worker:e})),!t&&0===e.length&&s.createElement("h2",null,"No orders")))}},null),document.body.querySelector(".app"))},8:function(e,t){}},[[7,2,1]]]);
//# sourceMappingURL=main.bd1a77daf2e7bdf855dd.js.map